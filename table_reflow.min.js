(function(a,m,n){function h(b,c){this.element=a(b);this.options=a.extend({},l,c);this._defaults=l;this._name="reflowTable";this.init()}var l={classes:{table:"ui-table",reflowTable:"ui-table-reflow",cellLabels:"ui-table-cell-label"},initSelector:'[data-role="table"]',mode:"reflow"};h.prototype={init:function(){this.refresh(!0)},refresh:function(b){var c=this,f=this.element.find("thead tr"),e=this.options;b&&this.element.addClass(e.classes.table);c.headers=this.element.find("tr:eq(0)").children();c.allHeaders=
c.headers.add(f.children());f.each(function(){var d=0;a(this).children().each(function(e){e=parseInt(a(this).attr("colspan"),10);var k=":nth-child("+(d+1)+")";a(this).data("colstart",d+1);if(e)for(var g=0;g<e-1;g++)d++,k+=", :nth-child("+(d+1)+")";void 0===b&&a(this).data("cells","");a(this).data("cells",c.element.find("tr").not(f.eq(0)).not(this).children(k));d++});void 0===b&&this.refresh()});"reflow"===e.mode&&(b&&this.element.addClass(e.classes.reflowTable),a(c.allHeaders.get().reverse()).each(function(d){d=
a(this).data("cells");var b=a(this).data("colstart"),c=d.not(this).filter("thead th").length&&" ui-table-cell-label-top",g=a(this).text();if(""!==g)if(c){var f=parseInt(a(this).attr("colspan"),10),h="";f&&(h="td:nth-child("+f+"n + "+b+")");d.filter(h).each(function(){var b=a(this);b.html('<div class="ui-table-cell-content">'+b.html()+"</div>").prepend("<div class='"+e.classes.cellLabels+c+"'>"+g+"</b>")})}else d.each(function(){var b=a(this);b.html('<div class="ui-table-cell-content">'+b.html()+"</div>").prepend("<div class='"+
e.classes.cellLabels+"'>"+g+"</b>")})}))}};a.fn.reflowTable=function(b){return this.each(function(){a.data(this,"mailor_reflowTable")||a.data(this,"mailor_reflowTable",new h(this,b))})}})(jQuery,window,document);